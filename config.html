<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>clTEM | Configuration</title>

    <script>
      if (!("ontouchstart" in document.documentElement)) {
      document.documentElement.className += " no-touch";
      }
    </script>

    <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js'></script>
    <script type='text/javascript' src='js/jquery.ba-hashchange.min.js'></script>
    <script type='text/javascript' src='js/dynamicpage.js'></script>

    <script src="js/navbar.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
  </head>
  <body style="overflow-y: scroll;">

    <script type="text/javascript">
            watchForHover();
    </script>

<div id="page-wrap">

    <section class="page-header">

    <div class="header-layout" style="text-align: center;">
      <img src="images/logo.svg" class="project-logo">
    </div>

    <div class="header-layout">
      <h1 class="project-name">clTEM</h1><br/>
      <h2 class="project-tagline">OpenCL accelerated multislice</h2>
    </div>

    <a href="https://github.com/JJPPeters/clTEM" class="btn">Source</a>
    <a href="https://github.com/JJPPeters/clTEM/releases/download/v0.1a/Install_clTEM_0.1a.exe" class="btn">v0.1a installer (Win x64)</a>
    </section>
<nav>
<div class="topnav">
  <a href="index" onclick="closeMenu()">Home</a>

  <div class="dropdown" onclick="toggleDropdown()">
    <a class="dropbtn" href="guide">Guide</a>
    <div class="dropdown-content">
      <a href="input" onclick="closeMenu()">Input</a>
      <a href="opencl" onclick="closeMenu()">OpenCL</a>
      <a href="config" class="active" onclick="closeMenu()">Configuration</a>
      <a href="simulate" onclick="closeMenu()">Simulating</a>
      <a href="export" onclick="closeMenu()">Export</a>
    </div>
  </div>

  <a href="compile" onclick="closeMenu()">Compilation</a></li>

  <a href="javascript:void(0);" class="icon" onclick="toggleMenu()">&#9776;</a>
  <!-- <a href="javascript:void(0);" class="icon" onclick="toggleMenu()"><img src="images/navicon.svg" alt="" style="height: 1em; width: 1em;"></a> -->

</div>
</nav>

<section id="centre-content" class="main-content">
<div id="guts">

<h1><a id="about" class="anchor" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration</h1>

<p>
  The simulation configuration can be set using the GUI or via a .json file. The .json can set every parameter, so it is daunting to go through every option available. The easiest way to create a .json configuration file is to export one from the GUI. Using the <code>File &rarr; Config... &rarr; Export</code> menu, the current settings in the GUI will be saved to the defined .json file. This will contain every option available if you wish to go through and edit it yourself.
</p>

<p>
  <b>Note</b> the configuration file has entries for units. These are purely descriptive, and do not define how clTEM will read in the values (i.e. if you change Å to nm, the value will still be read in Å).
</p>

<h2>General settings</h2>
<p>

The general simulation settings dialog can be found under the <code>Simulation &rarr; General</code> menu. There are only a few options here, but they can impact the simulations significantly. Firstly, the option to choose the <code>Potentials</code> used in the simulation is placed here (<b>Not yet supported</b>), the default being Kirkland's potentials from his book.<sup><a href="https://www.springer.com/gb/book/9781441965325">1</a></sup> 
</p>
<p>Next is the <code>Full 3D integrals</code> setting. This is only used when the simulation is using the Full 3D method and it dictates how many sub-slices are used to approximate the 3D nature of a single slice. Higher values give a better approximation, but also take longer to simulate.
</p>
<p>
Finally is an option to set the STEM <code>Parallel pixels</code>. This option enables you to speed up STEM simulations by propagating multiple beam positions through the sample at once. This can greatly speed up simulations due to the need to calculate the potentials only once, but also has several caveats.
<ol>
<li>TDS simulations will be less accurate. Due to the fact that multiple beam positions are propagated at once, the thermal vibrations approximation will not be as valid. If the parallel pixels are a significant fraction of the total STEM pixels, the TDS simulation will not be valid. The parallel pixels themselves are chosen at random (i.e. not all next to each other) to try and reduce this effect.</li>
<li>Increasing this value can crash the program or even your computer if it is set too high. Increasing this value consumes more memory on the selected device and is possible to increase it too much. You will need to find out what value is acceptable on your hardware</li>
  </ol>
</p>

   <div class="image-figure">
    <img style="width:300px;" src="images/general-dialog.png" alt="General dialog">
  <p>
      <span class="figure-title">Figure</span> General settings dialog.
  </p>
  </div> 

<h2>Simulation Area</h2>
<p>

Area...

</p>

<h2>Default settings</h2>
<p>

clTEM supports user defined default configurations. In the install directory there should be a <code>microscopes</code> folder (create it if it doesn't exist). Inside you can save a <code>default.json</code> that will be loaded by default. This is useful for defining default microscope parameters, such as STEM detectors, so you don't have to define them every time.

</p>

</div>
</section>

  <footer class="site-footer">
    <span class="site-footer-owner"><a href="https://github.com/JJPPeters/clTEM">clTEM</a> is maintained by <a href="https://github.com/JJPPeters">Jon Peters</a>.</span>

    <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a> and modified by <a href="https://github.com/JJPPeters">Jon Peters</a>.</span>
  </footer>


</div>

    <script>
      colorTaps()
    </script>
  </body>
</html>
